<html>
	<head>
		<title>Wiki</title>
		 <link rel=stylesheet href=../wiki.css>
		 <link rel=icon href=icon.jpg>
	</head>
	<body>
		<h1>Machine Learning</h1>
		<h3>Setup jupyter notebook with virtualenv</h3>
		<p>
			<code>virtualenv -p /usr/bin/python3.5 my_project</code></br>
			<code>source my_project/bin/activate</code></br>
			<code>pip install numpy pandas matplotlib tensorflow scikit-learn jupyter scipy ipykernel jupyter_contrib_nbextensions</code></br>
			<code>jupyter contrib nbextension install --user</code></br>
			<code>python -m ipykernel install --user --name=my_project</code>
		</p>

		<h1>Pandas</h1>
		<h3>Load dataframe in chunks</h3>
		<p>
			<code>tp = pd.read_csv("dataset.csv", iterator=True, chunksize=100000)</code></br>
			<code>df = pd.concat(tp, ignore_index=True)</code>
		</p>
		<h3>Load dataframe using SQL query</h3>
		<p>
			<code>import pandas as pd</code></br>
			<code>sql = "select * from {}.jobs where created_at > '2017-10-02' and created_at < '2018-01-01'".format("eu")</code></br>
			<code>url = "postgresql+psycopg2://postgres:postgres@localhost/datawarehouse"</code></br>
			<code>df = pd.read_sql_query(sql, url)</code>
		</p>
		<h3>Find rows containing null</h3>
		<p><code>df[df.isnull().any(axis=1)]</code></p>
		<h3>Find columns containing null</h3>
		<p><code>df[df.isnull().any(axis=0)]</code></p>
		<h3>Formatting options</h3>
		<p>
			<code>np.core.arrayprint._line_width = 120 </code></br>
			<code>np.set_printoptions(formatter={'float_kind': lambda x: "%.2f" % x})</code></br>
			<code>pd.set_option('display.height', 500)</code></br>
			<code>pd.set_option('display.width', 175)</code></br>
			<code>pd.set_option('display.max_rows', 30)</code></br>
			<code>pd.set_option('display.max_columns', 30)</code></br>
		</p>
		
		<h1>Matplotlib</h1>
		<h3>Graph example</h3>
		<p>
			<code>x = np.arange(0, 7+1)</code></br>
			<code>y = np.array([10, 5, 17, 20, 15, 19, 25, 7])</code></br>
			<code>plt.plot(x, y, c='black')</code></br>
			<code>plt.scatter(x, y, c='red')</code></br>
			<code>plt.xticks(fontsize=18)</code></br>
			<code>plt.xlim(0, 7)</code></br>
			<code>plt.yticks(np.arange(0, 30+1, 2),fontsize=18)</code></br>
			<code>plt.title("Title of chart", fontsize=18)</code></br>
			<code>plt.xlabel("t", fontsize=18)</code></br>
			<code>plt.ylabel("Price in $USD", fontsize=18)</code></br>
			<code>plt.grid()</code></br>
			<code>plt.legend()</code></br>
			<code>plt.show()</code>
		</p>
	</body>
</html>
