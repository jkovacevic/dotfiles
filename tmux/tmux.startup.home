#!/bin/bash

SESSION="home"

if tmux has-session -t $SESSION 2>/dev/null; then
    tmux attach -t $SESSION
    exit 0
fi

tmux new-session -d -s $SESSION -n 'ipy'
tmux send-keys -t $SESSION:ipy "cd $HOME/ipython && source venv/bin/activate && ipython" C-m

tmux new-window -t $SESSION -n 'cmus' cmus
tmux send-keys -t $SESSION:cmus ':add /home/jk/music' C-m
tmux new-window -t $SESSION -n 'music'
tmux new-window -t $SESSION -n 'htop' htop

tmux select-window -t $SESSION:1
tmux attach -t $SESSION
